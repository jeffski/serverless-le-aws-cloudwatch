# Serverless le-aws-cloudwatch

**Deploy the LogentriesCommunity [le-aws-cloudwatch](https://github.com/LogentriesCommunity/le-aws-cloudwatch) project
using the Serverless framework. Stream AWS Lambda and other CloudWatch logs to Logentries.**

Created by the LogentriesCommunity, le-aws-cloudwatch is an AWS Lambda function written in Python that is invoked by 
CloudWatch stream events and pushes the corresponding CloudWatch logs to Logentries.

### Deployment

Deploy le-aws-cloudwatch from the command line using arguments:

```
serverless deploy --service my-service --le-region eu --le-token abcd1234 --cw-log /aws/lambda/my-function
```

Depending on your workflow you can also deploy using environment variables:

```
export SERVICE
export LOGENTRIES_REGION
export LOGENTRIES_TOKEN
export CLOUDWATCH_LOG

serverless deploy
```

#### Options

| Command     | Environment Variable | Description |
| ---         | ---                  | ---         |
| `service`   | `SERVICE`            | A unique name for your logging Lambda, will be appended to le-aws-cloudwatch |
| `le-region` | `LOGENTRIES_REGION`  | The Logentries account region, currently only **eu** |
| `le-token`  | `LOGENTRIES_TOKEN`   | The log token generated by Logentries that will be streamed to |
| `cw-log`    | `CLOUDWATCH_LOG`     | The Cloudwatch log to stream to Logentries |
